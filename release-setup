# -*- mode: shell-script; -*-
# Source me

## ------------------------
## This will override the setting in POM
## e.g. 0.8.2 when the POM says 0.9.0-SNAPSHOT

export VER=0.1.0
VER_NEXT=0.2.0-SNAPSHOT

##REPO="-Dmaven.repo.local=..separatemaven local repo ..

## Set release and next version.
## If not set, mvn release:prepare wil ask for them.
MVN_VER="-DreleaseVersion=$VER -DdevelopmentVersion=$VER_NEXT -Dtag=v$VER"

## If signing artifacts
##export KEY="-Darguments=-Dgpg.keyname=SIGNATURE"

export MVN_ARGS="$REPO $KEY $MVN_VER"
##echo "MVN_ARGS   \$REPO \$KEY \$MVN_VER"

echo "Release: $VER, next development $VER_NEXT"
echo "## Dry run release"
echo "  mvn \$MVN_ARGS -DdryRun=true release:clean release:prepare"

